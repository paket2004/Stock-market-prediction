import{j as s}from"./@tanstack-CEbkxrhX.js";import{z as t,e as j,f as N,I as i,h as w,i as y,r as b,B as v}from"./index-QORVVTMN.js";import{u as S}from"./login-mutation-wzzl23C6.js";import{t as I}from"./zod-DrZvVLjd.js";import{r as l}from"./@radix-C9DBgJhe.js";import{u as L}from"./index.esm-F7nqy9zY.js";import{a as F,b as P}from"./@react-router-DYovave8.js";import"./@reactflow-CHBapDaj.js";const E=t.object({username:t.string().min(1),password:t.string().optional()});function A(){const c=F(),{setAuthState:m}=j(),{toast:u}=N(),a=l.useId(),r=l.useId(),[o]=P(),d=o.get("redirect"),x=o.get("username")??void 0,{register:n,handleSubmit:p,formState:{isValid:f}}=L({resolver:I(E),defaultValues:{username:x}}),h=S({onError:e=>{e instanceof Error&&u({status:"error",emphasis:"subtle",icon:s.jsx(y,{className:"h-5 w-5 shrink-0 fill-error-700"}),description:e.message,rounded:!0})},onSuccess:async()=>{m("true"),c(d||b.home)}});function g(e){h.mutate({username:e.username.trim(),password:e.password})}return s.jsxs("form",{onSubmit:p(g),className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{htmlFor:a,className:"text-text-sm",children:"Username"}),s.jsx(i,{...n("username"),id:a,className:"w-full"})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{htmlFor:r,className:"text-text-sm",children:"Password"}),s.jsx(i,{...n("password"),id:r,type:"password",className:"w-full"})]})]}),s.jsx(w,{disabled:!f,className:"w-full text-center",size:"md",children:s.jsx("span",{className:"w-full",children:"Login"})})]})}function U(){return s.jsxs(v,{className:"flex w-full max-w-[540px] flex-col gap-5 p-7",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-0.5 text-display-xs font-semibold",children:"Log in to your account"}),s.jsx("p",{className:"text-theme-text-secondary",children:"Please, fill in your details to log in to your ZenML account."})]}),s.jsx(A,{})]})}export{U as default};
